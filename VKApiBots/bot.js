const { HearManager } = require('@vk-io/hear')
const startKeyboard = require('../keyboards/startKeyboard')
const goBackButtonKeyboard = require('../keyboards/goBackButtonKeyboard')
const { addUser } = require('../utils/adminFunctions')

const bot = new HearManager()

bot.onFallback((message) => {
    if (message.isOutbox) return
    message.send({
        message: `Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ ÑÑƒÑ‚Ğ¾Ğº! ğŸ™‹ğŸ¼â€â™‚ï¸\n
        ~ ĞĞ±Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ²Ğ°ÑˆĞµ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ÑÑÑ‚ÑÑ 24/7 âœ…\n
        ~ Ğ—Ğ´ĞµÑÑŒ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸ ÑĞ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ¾Ğ¼, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ñ‚ Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¹ Ğ²Ğ°Ñˆ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ!`,
        keyboard: startKeyboard
    })
    addUser(message.senderId)
})

bot.hear(new RegExp('/start'), (message) => {
    if (message.isOutbox && message.messagePayload.command !== '/back-to-start') return
    message.send({
        message: `Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğ³Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ ÑÑƒÑ‚Ğ¾Ğº! ğŸ™‹ğŸ¼â€â™‚ï¸\n
        ~ ĞĞ±Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ²Ğ°ÑˆĞµ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ÑÑÑ‚ÑÑ 24/7 âœ…\n
        ~ Ğ—Ğ´ĞµÑÑŒ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¸ ÑĞ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ¾Ğ¼, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ñ‚ Ğ½Ğ° Ğ»ÑĞ±Ğ¾Ğ¹ Ğ²Ğ°Ñˆ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ!`,
        keyboard: startKeyboard
    })
    addUser(message.senderId)
})

bot.hear(new RegExp('Ğ ĞĞ°ÑğŸ™‹ğŸ¼â€â™€ï¸'), async (message) => {
    if (message.isOutbox) return
    return await message.send(
        {
            message: `ğŸ“² ĞĞ°ÑˆĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ğ´ĞµĞ¶Ğ´Ñƒ Ñ Ğ¾Ñ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ĞšĞ¸Ñ‚Ğ°Ğ¹ÑĞºĞ¾Ğ³Ğ¾ Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½Ğ° â€œPOIZONâ€. ĞĞ¾ Ñ 20 Ğ½Ğ¾ÑĞ±Ñ€Ñ Ğ¿Ğ¾ÑĞ²Ğ¸Ğ»Ğ°ÑÑŒ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ°ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Â«Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¹Â» Ñ‚Ğ¾Ğ²Ğ°Ñ€ ÑĞ¾ ÑĞºĞ»Ğ°Ğ´Ğ° POIZON Ğ² ĞœĞ¾ÑĞºĞ²Ğµ. Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ´Ğ¾ 6 Ğ´Ğ½ĞµĞ¹ Ğ¸ Ğ±ĞµĞ· Ğ·Ğ°Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ Ñ†ĞµĞ½.
            \n~ Ğ’ ĞšĞ¸Ñ‚Ğ°Ğµ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ±Ñ€ĞµĞ½Ğ´ Ğ² Ñ€Ğ°Ğ·Ñ‹ Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ, Ñ‡ĞµĞ¼ Ğ² Ğ Ğ¾ÑÑĞ¸Ğ¸. Ğ’ â€œPOIZONâ€ ĞµÑÑ‚ÑŒ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ğ¾ Ğ»ÑĞ±Ğ¾Ğ¹ Ğ±Ñ€ĞµĞ½Ğ´ Ğ¸ Ğ¡Ğ¢Ğ ĞĞ“Ğ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»! Ğ’ĞµÑÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ»ĞµĞ³Ğ¸Ñ‚-Ñ‡ĞµĞº âœ…
            \nĞšĞ°ĞºÑƒÑ Ñ€Ğ¾Ğ»ÑŒ Ğ¸Ğ³Ñ€Ğ°ĞµĞ¼ Ğ¼Ñ‹? ğŸ¤”
            \n~ ĞšĞ¾Ğ½ĞµÑ‡Ğ½Ğ¾ Ğ¶Ğµ, Ğ¸Ğ· ĞšĞ¸Ñ‚Ğ°Ñ Ğ’Ñ‹ Ğ½Ğµ ÑĞ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ, Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ¸ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Ğ Ğ¾ÑÑĞ¸Ñ. ĞœÑ‹ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ñ‡Ğ°ĞµĞ¼ Ñ ĞšĞ¸Ñ‚Ğ°Ğ¹Ñ†ĞµĞ¼, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ÑĞµÑ‚ Ğ¸ Ğ²Ñ‹ÑÑ‹Ğ»Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ² ĞœĞ¾ÑĞºĞ²Ñƒ. Ğ Ğ¸Ğ· ĞœĞ¾ÑĞºĞ²Ñ‹ Ğ¼Ñ‹ ÑƒĞ¶Ğµ Ğ²Ñ‹ÑÑ‹Ğ»Ğ°ĞµĞ¼ Ğ²Ğ°Ğ¼ Ğ² Ğ»ÑĞ±Ñ‹Ğµ Ğ³Ğ¾Ñ€Ğ¾Ğ´Ğ°.`,
            keyboard: goBackButtonKeyboard
        }
    )
})

bot.hear(new RegExp('Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ POIZON?'), async (message) => {
    if (message.isOutbox) return
    return await message.send(
        {
            message: ` â€¢ POIZON - Ğ¼Ğ°Ğ³Ğ°Ğ·Ğ¸Ğ½ Ğ² ĞšĞ¸Ñ‚Ğ°Ğµ ğŸ¬
            \n â€¢ Ğ¢Ğ°Ğ¼ ĞµÑÑ‚ÑŒ Ğ’Ğ¡Ğ / ĞĞ´ĞµĞ¶Ğ´Ğ°, Ğ³Ğ°Ğ´Ğ¶ĞµÑ‚Ñ‹, Ğ¼Ğ°ÑˆĞ¸Ğ½Ñ‹ Ğ¸ Ñ‚. Ğ´.
            \n â€¢ Ğ›ÑĞ±Ğ¾Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ½Ğ° POIZONE - ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ», Ğ²ÑÑ‘ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ legit-check!âœ…`,
            keyboard: goBackButtonKeyboard
        }
    )
})

bot.hear(new RegExp('ĞšĞ°Ğº ÑĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ POIZON?'), async (message) => {
    if (message.isOutbox) return
    return await message.send(
        {
            message: `Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ POIZON ğŸ‘‡ğŸ¼
            \nĞ”Ğ»Ñ IOS - https://apps.apple.com/app/id1012871328
            \nĞ”Ğ»Ñ Android - https://m.pc6.com/s/286696 
            \nâš™ï¸Ğ•ÑĞ»Ğ¸ Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Android Ğ¸Ğ»Ğ¸ IOS, Ñ‚Ğ¾ Ğ²Ğ¾ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚ĞµÑÑŒ Ğ´Ğ°Ğ½Ğ½Ğ¾Ğ¹ - https://h5.poizon.com/ 
            \nĞ¢Ğ°ĞºĞ¶Ğµ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ñ Ğ½Ğ°ÑˆĞµĞ³Ğ¾ ÑĞºĞ»Ğ°Ğ´Ğ° Ğ² ĞœĞ¾ÑĞºĞ²Ğµ! Ğ”Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ° Ğ´Ğ¾ 6 Ğ´Ğ½ĞµĞ¹. ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ñ‚ÑƒÑ‚: ğŸ‘‡ğŸ¼
            \nĞ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ (https://docs.google.com/spreadsheets/d/19Kw-baS5UPDUn9gIf4MiREFdKO7Kj4vb/edit?usp=drivesdk&ouid=108323939403696325031&rtpof=true&sd=true )
            \nğŸ“² Ğ’Ğ¾Ğ·Ğ½Ğ¸ĞºĞ½ÑƒÑ‚ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ - Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ² Ğ»Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹`,
            keyboard: goBackButtonKeyboard
        }
    )
})

bot.hear(new RegExp('ĞšĞ°Ğº Ğ·Ğ°ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ?'), async (message) => {
    if (message.isOutbox) return
    return await message.send(
        {
            message: `ğŸšš ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼ Ğ’Ğ°ÑˆĞ¸Ñ… Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ·Ğ°ĞºĞ°Ğ·Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°:
            \n1. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ Ğ½Ğ° POIZONE Ñ‚Ğ¾Ğ²Ğ°Ñ€ (Ğ¸Ğ»Ğ¸ ÑĞ¾ ÑĞºĞ»Ğ°Ğ´Ğ° Ğ² ĞœĞ¾ÑĞºĞ²Ğµ)
            \n2. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµÑ‚ ÑÑÑ‹Ğ»ĞºÑƒ Ğ½Ğ° Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ¸Ğ»Ğ¸ Ğ´ĞµĞ»Ğ°ĞµÑ‚ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚
            \n3. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¸ÑÑ‹Ğ»Ğ°ĞµÑ‚ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ñƒ (ÑÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° @pzmanager)
            \n4. ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ (ÑÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° @pzmanager) Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°  (Ñ‚Ğ°ĞºĞ¶Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ, Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ² ÑĞ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ² ÑÑ‚Ğ¾Ğ¼ Ğ±Ğ¾Ñ‚Ğµ)
            \n5. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¾Ğ¹ Ğ´Ğ¾ ĞœĞ¾ÑĞºĞ²Ñ‹ (Ğ¾Ñ‚ ĞœĞ¾ÑĞºĞ²Ñ‹ Ğ² Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ³Ğ¾Ñ€Ğ¾Ğ´ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ° Ğ¿Ñ€Ğ¾Ğ¸ÑÑ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğ² ĞœĞ¾ÑĞºĞ²Ñƒ)
            \n6. ĞŸĞ¾ Ğ¿Ñ€Ğ¸Ğ±Ñ‹Ñ‚Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ° Ğ² ĞœĞ¾ÑĞºĞ²Ñƒ, ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¾Ğ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºÑƒ Ğ´Ğ¾ Ğ½ÑƒĞ¶Ğ½Ğ¾Ğ¹ Ñ‚Ğ¾Ñ‡ĞºĞ¸.
            \n7. ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ñ‚Ğ¾Ğ²Ğ°Ñ€ Ğ¸ Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ¾Ñ‚Ğ·Ñ‹Ğ²)`,
            keyboard: goBackButtonKeyboard
        }
    )
})

bot.hear(new RegExp('Ğ¡Ğ²ÑĞ·Ğ°Ñ‚ÑŒÑÑ Ñ ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€Ğ¾Ğ¼'), async (message) => {
    if (message.isOutbox) return
    return await message.send(
        {
            message: `ğŸ“² ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ ÑÑĞ´Ğ°, Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ÑĞºĞ¾Ñ€Ğ¾ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¸Ñ‚ `
        }
    )
})
bot.hear(new RegExp('Ğ Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ'), async (message) => {
    return await message.scene.enter('count-price')
})

bot.hear(new RegExp('ĞĞ°Ğ·Ğ°Ğ´'), (message) => {
    if (message.isOutbox) return
    if (message.payload === '/back-to-start') {
        message.send({
            message: '/start'
        })
    } else {
        message.send({
            message: '/start'
        })
    }
})

module.exports = bot